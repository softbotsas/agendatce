# Sistema de Agenda TCE - Checklist para LÃ­deres

## âš ï¸ IMPORTANTE: Este NO es un sistema de nÃ³mina
Este es un **Sistema de Agenda/Checklist** para el seguimiento de tareas diarias de Laisa y Alejandra.

## ğŸ¯ Objetivo del Sistema
- Marcado de tareas (binarias âœ… o contables ğŸ”¢)
- Subida de evidencias (boletas, capturas, etc.)
- Registro de comentarios sobre tareas realizadas
- Seguimiento de SLAs (tiempos lÃ­mite)
- GeneraciÃ³n de KPIs de cumplimiento y productividad

## ğŸ“ Estructura de Archivos
**TODOS los archivos deben usar el prefijo `agenda.` para evitar conflictos:**

### Modelos
- `src/models/agenda.TaskDefinition.js`
- `src/models/agenda.TaskAssignment.js`
- `src/models/agenda.TaskLog.js`
- `src/models/agenda.User.js`

### Controladores
- `src/controllers/agenda/agenda.configController.js`
- `src/controllers/agenda/agenda.dashboardController.js`
- `src/controllers/agenda/agenda.taskController.js`
- `src/controllers/agenda/agenda.taskManagementController.js`

### Servicios
- `src/services/agenda/agenda.importService.js`
- `src/services/agenda/agenda.kpiService.js`
- `src/services/agenda/agenda.taskService.js`

### Vistas
- `src/views/agenda/agenda.index.ejs`

### Router
- `src/router/agenda.router.js`

## ğŸ› ï¸ TecnologÃ­as
- **Backend**: Node.js + Express
- **Base de datos**: MongoDB con Mongoose
- **Vistas**: EJS con componentes parciales
- **UI**: Bootstrap 5 + Font Awesome
- **Sesiones**: Express-session con MongoDB Store

## ğŸ¯ Usuarios del Sistema
- **Laisa Rodriguez**: LÃ­der de operaciones
- **Alejandra Martinez**: Coordinadora de equipos

## ğŸ“Š Modelos de Datos Principales

### TaskDefinition
- `title`: TÃ­tulo de la tarea
- `description`: DescripciÃ³n detallada
- `mode`: "binary" | "counter"
- `periodicity`: "daily" | "weekly" | "monthly" | "monThu" | "biweekly"
- `target_per_period`: Meta para tareas contables
- `sla_time`: Hora lÃ­mite (formato "HH:MM")
- `requires_evidence`: Boolean
- `tags`: Array de strings

### TaskAssignment
- `task_definition`: Referencia a TaskDefinition
- `user`: Usuario asignado
- `activo`: Boolean
- `start_date`: Date
- `end_date`: Date (opcional)

### TaskLog
- `task_assignment`: Referencia a TaskAssignment
- `user`: Usuario que registrÃ³
- `action_type`: "completed" | "increment"
- `value`: Number
- `comment`: String
- `evidence_files`: Array de strings
- `log_date`: Date

## ğŸ”§ Reglas de Desarrollo

### Nomenclatura
- **Archivos**: Siempre usar prefijo `agenda.`
- **Variables**: camelCase
- **Constantes**: UPPER_SNAKE_CASE
- **Funciones**: camelCase descriptivo

### Estructura de CÃ³digo
- **Controllers**: Solo lÃ³gica de request/response
- **Services**: LÃ³gica de negocio y cÃ¡lculos
- **Models**: Solo esquemas de MongoDB
- **Views**: Solo presentaciÃ³n, lÃ³gica mÃ­nima

### APIs
- **Rutas**: `/agenda/api/...`
- **MÃ©todos**: GET, POST, PUT, DELETE segÃºn corresponda
- **Respuestas**: Siempre incluir `success: boolean` y `data` o `message`

### Base de Datos
- **ColecciÃ³n**: `agenda_tce`
- **Modelos**: Usar Mongoose con validaciones
- **Ãndices**: En campos de bÃºsqueda frecuente

## ğŸš« Cosas que NO hacer
- âŒ No crear archivos sin prefijo `agenda.`
- âŒ No mezclar lÃ³gica de negocio en controladores
- âŒ No hardcodear IDs de usuarios
- âŒ No crear rutas sin prefijo `/agenda/`
- âŒ No usar datos simulados en producciÃ³n

## âœ… Mejores PrÃ¡cticas
- âœ… Usar async/await para operaciones asÃ­ncronas
- âœ… Validar datos de entrada
- âœ… Manejar errores apropiadamente
- âœ… Usar middleware de autenticaciÃ³n
- âœ… Documentar funciones complejas
- âœ… Mantener consistencia en nombres

## ğŸ¯ Estado Actual
- **âœ… Estructura base** completada
- **âœ… Modelos** definidos
- **âœ… Router** con APIs simuladas
- **âœ… Vista principal** funcional
- **ğŸ”„ En desarrollo**: IntegraciÃ³n con BD real
- **ğŸ“‹ Pendiente**: CRUD completo, evidencias, reportes

## ğŸ“ Notas de Desarrollo
- Los datos actuales son simulados para desarrollo
- El sistema estÃ¡ preparado para expansiÃ³n
- Mantener compatibilidad con futuras versiones
- Priorizar funcionalidad sobre perfecciÃ³n

---
**Ãšltima actualizaciÃ³n**: Diciembre 2024
**Proyecto**: Sistema de Agenda TCE - Checklist para LÃ­deres